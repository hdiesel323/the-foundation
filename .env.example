# ============================================================
# The Foundation â€” Environment Variables
# Copy to .env and fill in real values before deploying
# ============================================================
#
# This file documents ALL environment variables used across:
# - docker-compose.yml (all services)
# - seldon/index.ts (Seldon Protocol server)
# - dashboard/serve.mjs (Command Center dashboard)
# - config/mcp-servers.json (MCP server integrations)
# - Various scripts and utilities
#
# SECURITY NOTE: Never commit .env to git. It's in .gitignore.
# Most secrets are loaded from ./secrets/*.txt files via Docker secrets.
# ============================================================

# --- Core Database ---
# PostgreSQL connection for The Foundation core services
DB_PASSWORD=changeme_strong_db_password_here
DB_HOST=postgres
DB_PORT=5432
DB_NAME=openclaw
DB_USER=openclaw

# Database URL (constructed from above vars, used by some services)
DATABASE_URL=postgresql://openclaw:${DB_PASSWORD}@postgres:5432/openclaw

# --- Cloudflare Tunnel ---
# Cloudflare Tunnel token for secure external access
# Get this from: https://dash.cloudflare.com/ > Zero Trust > Tunnels
CF_TUNNEL_TOKEN=your_cloudflare_tunnel_token_here

# --- Gateway & Authentication ---
# The Foundation Gateway access token (for API authentication)
GATEWAY_TOKEN=openclaw-dev-token-change-in-production

# --- Anthropic API ---
# Anthropic Claude API key (for AI agent capabilities)
# Get this from: https://console.anthropic.com/
# Note: Can use OAuth or API key depending on setup
ANTHROPIC_BASE_URL=http://anthropic-router:3333
# ANTHROPIC_API_KEY stored in ./secrets/anthropic_key.txt

# --- OpenAI API ---
# OpenAI API key (optional, for GPT models)
# Get this from: https://platform.openai.com/api-keys
# Stored in: ./secrets/openai_key.txt

# --- Other AI Providers ---
# DeepSeek API key (optional)
# Stored in: ./secrets/deepseek_key.txt

# X.AI API key (optional, for Grok models)
# Stored in: ./secrets/xai_key.txt

# Groq API key (optional, for fast inference)
# Get this from: https://console.groq.com/
# Stored in: ./secrets/groq_key.txt

# OpenRouter API key (optional, for multi-model access)
# Get this from: https://openrouter.ai/keys
# Stored in: ./secrets/openrouter_key.txt

# --- Seldon Protocol Server ---
# Port for Seldon Protocol API (agent coordination)
SELDON_PORT=18789

# Discord integration for Seldon Protocol
# Get bot token from: https://discord.com/developers/applications
DISCORD_BOT_TOKEN=your_discord_bot_token_here
DISCORD_GUILD_ID=your_discord_server_guild_id_here

# Critic chains and divisions configuration paths
CRITIC_CHAINS_PATH=/config/critic-chains.json
DIVISIONS_PATH=/config/divisions.json

# --- Command Center Dashboard ---
# Port for web dashboard
DASHBOARD_PORT=18810

# Seldon service connection (for dashboard API proxy)
SELDON_HOST=seldon
SELDON_PORT=18789

# --- Anthropic Router ---
# OAuth proxy for Claude Max subscription
ROUTER_PORT=3333

# --- MCP Gateway ---
# Model Context Protocol server gateway
MCP_SERVER_URL=http://mcp-gateway:3000
MCP_CONFIG_PATH=/config/mcp-servers.json

# --- Slack Integration ---
# Slack bot tokens for messaging channel
# Get these from: https://api.slack.com/apps
# Bot token: OAuth & Permissions > Bot User OAuth Token
# App token: Basic Information > App-Level Tokens
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token-here
SLACK_APP_TOKEN=xapp-your-slack-app-token-here
SLACK_TEAM_ID=T01234ABCDE

# Stored in secrets:
# - ./secrets/slack_bot_token.txt
# - ./secrets/slack_app_token.txt

# --- Telegram Integration ---
# Telegram bot token for fallback messaging
# Get this from: https://t.me/BotFather
# Stored in: ./secrets/telegram_token.txt

# --- Google Calendar MCP ---
# Google OAuth credentials for calendar integration
# Get these from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REFRESH_TOKEN=your-google-oauth-refresh-token

# --- Brave Search MCP ---
# Brave Search API key for web search capabilities
# Get this from: https://brave.com/search/api/
BRAVE_API_KEY=your_brave_search_api_key_here

# --- QMD (Query Markdown) ---
# QMD hybrid search engine configuration
QMD_DATA_DIR=/opt/openclaw/.qmd
QMD_MODEL=bge-small-en-v1.5

# --- GraphMem ---
# Graph-based memory storage path
GRAPHMEM_DB_PATH=/opt/openclaw/data/clawd_brain.db

# --- Alpaca Trading API ---
# Alpaca trading platform credentials
# Get these from: https://alpaca.markets/
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_SECRET_KEY=your_alpaca_secret_key_here
ALPACA_ENDPOINT=https://paper-api.alpaca.markets/v2

# Stored in secrets:
# - ./secrets/alpaca_key.txt (API key)
# - ./secrets/alpaca_secret.txt (Secret key)

# --- Retreaver Call Tracking ---
# Retreaver API for call tracking and revenue attribution
# Get this from: https://www.retreaver.com/
RETREAVER_API_KEY=your_retreaver_api_key_here
RETREAVER_ENDPOINT=https://api.retreaver.com/v1

# Stored in: ./secrets/retreaver_key.txt

# --- Airtable Integration ---
# Airtable API key for database integration
# Get this from: https://airtable.com/account
AIRTABLE_API_KEY=your_airtable_api_key_here

# Stored in: ./secrets/airtable_key.txt

# --- Shopify E-commerce ---
# Shopify store credentials for e-commerce integration
# Get these from: Shopify Admin > Apps > Develop apps
SHOPIFY_STORE_URL=your-store.myshopify.com
SHOPIFY_API_KEY=your_shopify_api_key
SHOPIFY_API_SECRET=your_shopify_api_secret
SHOPIFY_ACCESS_TOKEN=shpat_your_access_token

# --- Grafana Monitoring ---
# Grafana admin password for observability dashboard
# Stored in: ./secrets/grafana_password.txt
# Access Grafana at: http://localhost:3001

# --- Backup & Security ---
# GPG passphrase for encrypted backups
# Stored in: ./secrets/backup_passphrase.txt

# --- Logging & Observability ---
# Log level for application services
LOG_LEVEL=info

# --- Z.ai Provider (Optional) ---
# Alternative Claude API provider via z.ai
# Only needed if using switch-provider.sh to switch from Anthropic
# ZAI_API_KEY=your_zai_api_key_here

# ============================================================
# SETUP INSTRUCTIONS
# ============================================================
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Fill in real values for required variables:
#    - DB_PASSWORD (required)
#    - CF_TUNNEL_TOKEN (required for external access)
#    - DISCORD_BOT_TOKEN & DISCORD_GUILD_ID (required for Discord integration)
#
# 3. Create secrets directory and files:
#    mkdir -p secrets
#    echo "your_password" > secrets/db_password.txt
#    echo "your_token" > secrets/cf_tunnel_token.txt
#    echo "your_key" > secrets/anthropic_key.txt
#    # ... repeat for all secrets
#
# 4. Secure secrets directory:
#    chmod 600 secrets/*.txt
#    chmod 700 secrets
#
# 5. Optional integrations:
#    - Only fill in API keys for services you want to use
#    - MCP servers will gracefully disable if credentials are missing
#    - Leave unused integrations blank or commented out
#
# 6. Verify configuration:
#    docker compose config
#
# 7. Start services:
#    docker compose up -d
#
# ============================================================
